<!DOCTYPE html>
<html lang="zh-TW">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>F1 2024 Globe Visualizer</title>

    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://unpkg.com/topojson@3"></script>
    <link rel="stylesheet" href="style.css" />
  </head>

  <body>
    <div id="stars"></div>
    <div id="stars2"></div>
    <div id="stars3"></div>

    <section class="sectionWorldMap">
      <div id="map-container">
        <div class="resetButton">â†º Reset View</div>
        <div id="minimap-container"></div>
      </div>

      <div class="infoContainer">
        <h1>F1 2024 Season</h1>

        <div class="circuit-details">
          <div class="circuit-name" id="info-name">--</div>
          <div class="circuit-location" id="info-loc">
            <span>ğŸ“</span>
            <span id="info-country">Select a track on the globe</span>
          </div>
        </div>

        <div class="race-results">
          <div class="results-title">2024 Race Podium</div>
          <div id="podium-list">
            <div
              style="
                font-size: 12px;
                color: #666;
                text-align: center;
                padding: 10px;
              "
            >
              Select a red point to see results
            </div>
          </div>
          <div class="weather-info" id="weather-info"></div>
        </div>

        <a
          href="#"
          id="enter-track-btn"
          class="enter-track-btn"
          style="display: none"
          >Enter Track Analysis</a
        >

        <div class="team-list-wrapper">
          <div class="team-list-title">2024 Team Home Tracks</div>
          <div id="team-list-content"></div>
        </div>
      </div>
    </section>

    <section class="trackContainer">
      <div class="analysisHeader">
        <div>
          <div class="analysis-label">Track Analysis</div>
          <h2 id="analysis-title">Selected Track</h2>
          <div id="analysis-location" class="analysis-location"></div>
        </div>
        <div class="Totop">Back to World Map</div>
      </div>

      <div class="analysisContent">
        <div class="analysisLeft">
          <div class="telemetryCard">
            <div class="telemetry-header">
              <div class="analysis-label">Telemetry Analysis</div>
              <h3>è»Šæ‰‹é€²åº¦å‹•ç•«</h3>
              <p class="telemetry-subtitle">åŒæ­¥é¡¯ç¤º 20 ä½è»Šæ‰‹çš„åœˆé€Ÿé€²åº¦</p>
            </div>
            <div class="telemetry-embed">
              <iframe
                id="progress-frame"
                title="Driver Progress"
                allowfullscreen
              ></iframe>
              <div id="progress-placeholder" class="telemetry-placeholder">
                <p>å°šæœªé¸æ“‡è³½é“ï¼Œç„¡æ³•è¼‰å…¥è»Šæ‰‹é€²åº¦å‹•ç•«ã€‚</p>
              </div>
            </div>
          </div>
        </div>

        <div class="analysisRight">
          <div class="animationSection">
            <div class="animationHeader">
              <div>
                <div class="analysis-label">Race Animation</div>
                <div id="animation-status" class="animation-status">
                  Loading...
                </div>
              </div>
            </div>
            <div class="animationEmbed">
              <iframe
                id="animation-frame"
                title="Race Animation"
                allowfullscreen
              ></iframe>
              <div
                id="animation-placeholder"
                class="animation-placeholder"
                role="alert"
              >
                <p>No animation data available for this track yet.</p>
                <p class="placeholder-hint">
                  Select another circuit to view available race replays.
                </p>
              </div>
            </div>
          </div>

          <div class="insights-btn-group">
            <button id="driver-style-btn" class="insights-btn" type="button">
              æŸ¥çœ‹é§•é§›é¢¨æ ¼è¦–è¦ºåŒ–
            </button>
          </div>

          <div
            id="japan-insights-group"
            class="insights-btn-group"
            style="display: none"
          >
            <button id="japan-timecurve-btn" class="insights-btn" type="button">
              æŸ¥çœ‹TimeCurve
            </button>
            <button
              id="japan-style-btn"
              class="insights-btn insights-btn--secondary"
              type="button"
            >
              æŸ¥çœ‹é§•é§›é¢¨æ ¼æ¯”è¼ƒ
            </button>
          </div>

          <div class="telemetryCard timecurve-card" id="timecurve-panel">
            <div class="telemetry-header">
              <div class="analysis-label">Telemetry Insights</div>
              <h3>æ—¥æœ¬ç«™æ“ä½œé¢¨æ ¼</h3>
              <p class="telemetry-subtitle">S å­—å½æ“ä½œç›¸ä¼¼åº¦èˆ‡é§•é§›é¢¨æ ¼å°æ¯”</p>
            </div>
            <div class="timecurve-embeds">
              <iframe
                id="timecurve-main"
                title="S-Curve Time Curve"
                allowfullscreen
              ></iframe>
              <iframe
                id="timecurve-style"
                title="Style Comparison"
                allowfullscreen
              ></iframe>
            </div>
            <div id="timecurve-placeholder" class="telemetry-placeholder">
              <p>åƒ…åœ¨æ—¥æœ¬éˆ´é¹¿ç«™æä¾› TimeCurve èˆ‡é¢¨æ ¼æ¯”è¼ƒåœ–ã€‚</p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <script src="worldMap.js"></script>
  </body>
</html>
